<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movies DB</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="manifest" href="/app.webmanifest">
  <link rel="icon" href="/images/icon.png">
  <script type="module" src="/app.js" defer></script>
  <base href="/">
</head>

<body>
  <header>
    <h1><img src="/images/logo.png" height="35" alt="Movies DB Logo"></h1>
    <nav>
      <ul>
        <!-- <li><a class="navlink" href="/">Movies</a></li>
        <li><a class="navlink" href="/account/favorites">Favorites</a></li>
        <li><a class="navlink" href="/account/watchlits">Watchlist</a></li>
        <li><a class="navlink" href="/account">My Account</a></li> -->
        <li><nav-link data-url="/">Movies</nav-link></li>
        <li><nav-link data-url="/account/favorites">Favorites</nav-link></li>
        <li><nav-link data-url="/account/watchlist">Watchlist</nav-link></li>
        <li><nav-link data-url="/account">My Account</nav-link></li>
      </ul>
    </nav>
    <div>
      <form onsubmit="app.search(event)">
        <input type="search" name="search" id="search" placeholder="Search movies">
      </form>
    </div>
  </header>
  <main></main>
  <footer>
    <p>Â© Movies DB - Diego BM</p>
  </footer>

  <dialog id="alert-modal">
    <h3>Error</h3>
    <p id="alert-modal-message"></p>
    <button onclick="app.closeError()">Ok</button>
  </dialog>

  <!-- Web Components Templates -->
  <template id="tpl-home">
    <section class="vertical-scroll" id="top-10">
      <h2>This week's top movies</h2>
      <ul></ul>
    </section>
    <section class="vertical-scroll" id="random">
      <h2>What to watch today</h2>
      <ul></ul>
    </section>
  </template>

  <template id="template-movie-details">
    <article id="movie">
      <h2><animated-loading elements="2"></animated-loading></h2>
      <h3></h3>
      <header>
        <img src="" alt="Poster">
        <youtube-embed id="trailer" data-url=""></youtube-embed>
        <section id="actions">
          <dl id="metadata"></dl>
          <button id="add-to-favorites">Add to Favorites</button>
          <button id="add-to-watchlist">Add to Watchlist</button>
        </section>
      </header>
      <ul id="genres"></ul>
      <p id="overview"></p>
      <ul id="cast"></ul>
    </article>
  </template>

  <template id="template-movies">
    <section>
      <div id="search-header">
        <h2></h2>
        <section id="filters">
          <select id="filter" onchange="app.searchFilterChange(this.value)">
            <option>Filter by Genre</option>
          </select>
          <select id="order" onchange="app.searchOrderChange(this.value)">
            <option value="popularity">Sort by Popularity</option>
            <option value="score">Sort by Score</option>
            <option value="date">Sort by Release Date</option>
            <option value="name">Sort by Name</option>
          </select>
        </section>
      </div>
      <ul id="movies-result">
        <animated-loading data-elements="5" data-width="150px" data-height="220px">
        </animated-loading>
      </ul>
    </section>
  </template>

  <template id="template-register">
    <section>
      <h2>Register a New Account</h2>
      <form onsubmit="app.register(event)">
        <label for="register-name">Name</label>
        <input type="text" id="register-name" name="register-name" placeholder="Name" required autocomplete="name">

        <label for="register-email">Email</label>
        <input type="email" id="register-email" name="register-email" placeholder="Email" required autocomplete="email">

        <label for="register-password">Password</label>
        <input type="password" id="register-password" name="register-password" placeholder="Password" required
          autocomplete="new-password">

        <label for="register-password-confirmation">Confirm Password</label>
        <input type="password" id="register-password-confirmation" name="register-password-confirmation"
          placeholder="Confirm Password" required autocomplete="new-password">

        <button>Register</button>
        <p>If you already have an account, please <nav-link data-url="/account/login">login</nav-link>.</p>
      </form>
    </section>
  </template>

  <template id="template-login">
    <section>
      <h2>Login into Your Account</h2>
      <form onsubmit="app.login(event)">
        <label for="login-email">Email</label>
        <input type="email" id="login-email" name="login-email" placeholder="Email" required autocomplete="email">

        <label for="login-password">Password</label>
        <input type="password" id="login-password" name="login-password" placeholder="Password" required
          autocomplete="current-password">

        <button>Log In</button>
        <p>If you don't have an account, please <nav-link data-url="/account/register">register</nav-link>.</p>
      </form>
    </section>
  </template>

  <template id="template-account">
    <section id="account">
      <h2>You are Logged In</h2>
      <button onclick="app.logout()">Log out</button>
      <button onclick="app.Router.go('/account/favorites')">Your Favorites</button>
      <button onclick="app.Router.go('/account/watchlist')">Your Watchlist</button>

    </section>
  </template>

  <template id="template-collection">
    <section>
      <ul id="movies-result">
        <animated-loading data-elements="5" data-width="150px" data-height="220px">
        </animated-loading>
      </ul>
    </section>
  </template>

</body>

</html>